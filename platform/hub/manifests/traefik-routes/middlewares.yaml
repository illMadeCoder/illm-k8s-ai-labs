# Middlewares for path stripping
#
# Strips the prefix (e.g., /grafana) before forwarding to backend

apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: strip-grafana
  namespace: traefik
spec:
  stripPrefix:
    prefixes:
      - /grafana
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: strip-mimir
  namespace: traefik
spec:
  stripPrefix:
    prefixes:
      - /mimir
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: strip-loki
  namespace: traefik
spec:
  stripPrefix:
    prefixes:
      - /loki
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: strip-tempo
  namespace: traefik
spec:
  stripPrefix:
    prefixes:
      - /tempo
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: strip-argocd
  namespace: traefik
spec:
  stripPrefix:
    prefixes:
      - /argocd
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: strip-openbao
  namespace: traefik
spec:
  stripPrefix:
    prefixes:
      - /openbao
