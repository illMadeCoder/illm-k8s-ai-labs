apiVersion: experiments.illm.io/v1alpha1
kind: Experiment
metadata:
  name: gateway-comparison
  namespace: experiments
spec:
  description: "Gateway controller comparison - nginx vs Traefik vs Envoy Gateway"
  ttlDays: 7

  targets:
    - name: app
      cluster:
        type: vcluster
      components:
        - app: ingress-nginx
        - app: traefik
        - app: envoy-gateway
        - app: echo-service
        - app: api-service
        - app: web-service

  workflow:
    template: gateway-comparison-validation
    completion:
      mode: manual

  tutorial:
    exposeKubeconfig: true
    services:
      - name: ingress-nginx
        target: app
        service: ingress-nginx-controller
        namespace: ingress-nginx
      - name: traefik
        target: app
        service: traefik
        namespace: traefik-system
      - name: envoy-gateway
        target: app
        service: envoy-gateway
        namespace: envoy-gateway-system
