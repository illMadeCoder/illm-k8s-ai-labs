apiVersion: experiments.illm.io/v1alpha1
kind: Experiment
metadata:
  name: tracing-comparison
  namespace: experiments
spec:
  description: "Tracing backend comparison - Tempo vs Jaeger"
  ttlDays: 7

  targets:
    - name: app
      cluster:
        type: vcluster
      components:
        - app: opentelemetry-collector
        - app: tempo
        - app: jaeger
        - app: kube-prometheus-stack
          params:
            grafana.enabled: "true"
        - app: otel-demo-app

  workflow:
    template: tracing-comparison-validation
    completion:
      mode: manual

  tutorial:
    exposeKubeconfig: true
    services:
      - name: grafana
        target: app
        service: kube-prometheus-stack-grafana
        namespace: tracing-comparison
      - name: jaeger
        target: app
        service: jaeger-query
        namespace: tracing-comparison
        port: 16686
