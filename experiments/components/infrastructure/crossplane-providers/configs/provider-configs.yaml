---
# ProviderConfigs for all cloud providers
# Wave 6: Applied after all provider CRDs exist
#
# These configs use Secret-based auth for local Kind development.
# The secrets are synced from OpenBao via ExternalSecrets.
---
# Helm ProviderConfig (in-cluster)
apiVersion: helm.crossplane.io/v1beta1
kind: ProviderConfig
metadata:
  name: helm-incluster
spec:
  credentials:
    source: InjectedIdentity
---
# Kubernetes ProviderConfig (in-cluster)
apiVersion: kubernetes.crossplane.io/v1alpha1
kind: ProviderConfig
metadata:
  name: kubernetes-incluster
spec:
  credentials:
    source: InjectedIdentity
---
# Azure ProviderConfig (Secret-based for local dev)
# Secret synced from OpenBao: secret/cloud/azure
apiVersion: azure.upbound.io/v1beta1
kind: ProviderConfig
metadata:
  name: default
spec:
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: azure-credentials
      key: credentials
---
# AWS ProviderConfig (Secret-based for local dev)
# Secret synced from OpenBao: secret/cloud/aws
apiVersion: aws.upbound.io/v1beta1
kind: ProviderConfig
metadata:
  name: default
spec:
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: aws-credentials
      key: credentials
---
# GCP ProviderConfig (Secret-based for local dev)
# Secret synced from OpenBao: secret/cloud/gcp
apiVersion: gcp.upbound.io/v1beta1
kind: ProviderConfig
metadata:
  name: default
spec:
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: gcp-credentials
      key: credentials
  projectID: illm-k8s-ai-lab
