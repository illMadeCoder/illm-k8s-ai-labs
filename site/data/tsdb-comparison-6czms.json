{
  "name": "tsdb-comparison-6czms",
  "namespace": "experiments",
  "description": "TSDB comparison - Prometheus vs VictoriaMetrics vs Mimir resource efficiency and query performance",
  "createdAt": "2026-02-12T18:20:57Z",
  "completedAt": "2026-02-12T18:55:01.960942376Z",
  "durationSeconds": 2044.960942376,
  "phase": "Complete",
  "tags": [
    "comparison",
    "observability",
    "metrics"
  ],
  "study": {
    "hypothesis": "VictoriaMetrics will be the most resource-efficient for single-node deployments because its merge-tree storage engine and single-binary architecture avoid the per-component overhead of distributed systems, while Mimir will offer superior horizontal scalability because its microservices architecture (ingesters, compactors, store-gateways) allows independent scaling of each concern at the cost of higher base resource usage",
    "questions": [
      "What is the CPU and memory usage per ingested metric across all three TSDBs?",
      "How does query performance compare for common dashboard-style PromQL queries?",
      "What are the operational trade-offs between Prometheus' pull model, VM's fork optimizations, and Mimir's microservices architecture?"
    ],
    "focus": [
      "resource efficiency per metric",
      "query performance",
      "horizontal scalability",
      "operational complexity"
    ]
  },
  "analysisConfig": {
    "sections": [
      "abstract",
      "targetAnalysis",
      "performanceAnalysis",
      "metricInsights",
      "finopsAnalysis",
      "secopsAnalysis",
      "body",
      "capabilitiesMatrix",
      "feedback",
      "architectureDiagram"
    ]
  },
  "targets": [
    {
      "name": "app",
      "clusterName": "tsdb-comparison-6czms-app",
      "clusterType": "gke",
      "machineType": "e2-medium",
      "nodeCount": 1
    }
  ],
  "workflow": {
    "name": "tsdb-comparison-6czms-validation",
    "template": "tsdb-comparison-validation",
    "phase": "Succeeded",
    "startedAt": "2026-02-12T18:34:30Z",
    "finishedAt": "2026-02-12T18:54:54Z"
  },
  "metrics": {
    "collectedAt": "2026-02-12T18:55:02.154542062Z",
    "source": "target:cadvisor",
    "timeRange": {
      "start": "2026-02-12T18:20:57Z",
      "end": "2026-02-12T18:55:02.154542062Z",
      "duration": "34m5.154542062s",
      "stepSeconds": 0
    },
    "queries": {
      "cpu_by_pod": {
        "query": "container_cpu_usage_seconds_total by pod (cadvisor)",
        "type": "instant",
        "unit": "cores",
        "description": "CPU usage by pod (cumulative seconds)",
        "data": [
          {
            "labels": {
              "pod": "alloy-l95ms"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 5.138744
          },
          {
            "labels": {
              "pod": "kube-prometheus-stack-operator-64f77b4cbc-258vh"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 6.884857
          },
          {
            "labels": {
              "pod": "kube-prometheus-stack-kube-state-metrics-5fd9c8df8b-gkb2q"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 5.972615
          },
          {
            "labels": {
              "pod": "mimir-nginx-64c595b85c-2dt8t"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 0.178969
          },
          {
            "labels": {
              "pod": "kube-prometheus-stack-prometheus-node-exporter-28pbr"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 3.030866
          },
          {
            "labels": {
              "pod": "operator-64d66c8747-fbgkv"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 2.966832
          },
          {
            "labels": {
              "pod": "cardinality-generator-5df7786cb8-p6twm"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 0.235428
          },
          {
            "labels": {
              "pod": "prometheus-kube-prometheus-stack-prometheus-0"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 25.133878000000003
          },
          {
            "labels": {
              "pod": "kube-prometheus-stack-grafana-67dbb64c7f-jcq29"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 40.655823
          },
          {
            "labels": {
              "pod": "kube-state-metrics-0"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 2.711867
          },
          {
            "labels": {
              "pod": "minio-7594465b77-jtkv8"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 2.625116
          },
          {
            "labels": {
              "pod": "ts-vm-hub-zpkgt-0"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 1.295201
          }
        ]
      },
      "cpu_total": {
        "query": "sum(container_cpu_usage_seconds_total) (cadvisor)",
        "type": "instant",
        "unit": "cores",
        "description": "Total CPU usage (cumulative seconds)",
        "data": [
          {
            "labels": {
              "scope": "total"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 96.83019600000002
          }
        ]
      },
      "memory_by_pod": {
        "query": "container_memory_working_set_bytes by pod (cadvisor)",
        "type": "instant",
        "unit": "bytes",
        "description": "Memory working set by pod",
        "data": [
          {
            "labels": {
              "pod": "mimir-nginx-64c595b85c-2dt8t"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 12173312
          },
          {
            "labels": {
              "pod": "ts-vm-hub-zpkgt-0"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 26497024
          },
          {
            "labels": {
              "pod": "alloy-l95ms"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 63016960
          },
          {
            "labels": {
              "pod": "prometheus-kube-prometheus-stack-prometheus-0"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 325885952
          },
          {
            "labels": {
              "pod": "kube-state-metrics-0"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 45244416
          },
          {
            "labels": {
              "pod": "kube-prometheus-stack-operator-64f77b4cbc-258vh"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 24350720
          },
          {
            "labels": {
              "pod": "kube-prometheus-stack-kube-state-metrics-5fd9c8df8b-gkb2q"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 21364736
          },
          {
            "labels": {
              "pod": "minio-7594465b77-jtkv8"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 82501632
          },
          {
            "labels": {
              "pod": "kube-prometheus-stack-prometheus-node-exporter-28pbr"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 13451264
          },
          {
            "labels": {
              "pod": "operator-64d66c8747-fbgkv"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 39895040
          },
          {
            "labels": {
              "pod": "cardinality-generator-5df7786cb8-p6twm"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 3915776
          },
          {
            "labels": {
              "pod": "kube-prometheus-stack-grafana-67dbb64c7f-jcq29"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 390836224
          }
        ]
      },
      "memory_total": {
        "query": "sum(container_memory_working_set_bytes) (cadvisor)",
        "type": "instant",
        "unit": "bytes",
        "description": "Total memory working set",
        "data": [
          {
            "labels": {
              "scope": "total"
            },
            "timestamp": "2026-02-12T18:55:02.154542062Z",
            "value": 1049133056
          }
        ]
      }
    }
  },
  "costEstimate": {
    "totalUSD": 0.011360894124311113,
    "durationHours": 0.5680447062155556,
    "perTarget": {
      "app": 0.011360894124311113
    },
    "note": "Rough estimate based on on-demand GCE pricing; actual cost may differ."
  },
  "analysis": {
    "summary": "Analysis incomplete",
    "generatedAt": "2026-02-12T18:56:00Z",
    "model": "claude-opus-4-6"
  }
}
